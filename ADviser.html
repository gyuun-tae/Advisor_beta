<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Advisor - 사장님 비서</title>
    
    <!-- Fonts: Pretendard -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- 커스텀 CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-[#F2F4F6] min-h-screen flex justify-center">

    <!-- App Container -->
    <div class="w-full max-w-md bg-[#F2F4F6] h-[100dvh] relative shadow-2xl overflow-hidden flex flex-col">
        
        <!-- ==================== VIEW: HOME ==================== -->
        <section id="view-home" class="view-section active h-full overflow-hidden">
            <div class="flex-1 overflow-y-auto no-scrollbar pb-24">
                <!-- Header -->
                <header class="bg-white px-6 pt-12 pb-6 rounded-b-[32px] shadow-sm mb-4">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <span class="text-[#3182F6] font-bold text-xs tracking-wide">ADVISOR</span>
                            <h1 class="text-2xl font-bold mt-1 text-[#191F28]">안녕하세요,<br>김사장님 👋</h1>
                        </div>
                        <div class="bg-[#F2F4F6] p-2.5 rounded-full relative">
                            <i data-lucide="bell" class="w-5 h-5 text-[#8B95A1]"></i>
                            <span class="absolute top-2 right-2.5 w-1.5 h-1.5 bg-red-500 rounded-full border border-white"></span>
                        </div>
                    </div>

                    <!-- Sales Card -->
                    <div class="bg-[#F9FAFB] p-5 rounded-[24px] border border-[#F2F4F6]">
                        <p class="text-[#8B95A1] text-xs font-bold mb-1">실시간 예상 매출</p>
                        <div class="flex items-baseline gap-2 mb-2">
                            <h2 class="text-[26px] font-bold text-[#191F28]">845,000원</h2>
                            <span class="text-xs font-bold text-red-500 bg-red-50 px-1.5 py-0.5 rounded flex items-center gap-0.5">
                                <i data-lucide="trending-up" class="w-3 h-3"></i> 12%
                            </span>
                        </div>
                        <p class="text-xs text-[#8B95A1]">어제 이 시간보다 <span class="text-[#333D4B] font-bold">92,000원</span> 더 파셨어요!</p>
                    </div>
                </header>

                <!-- Main Actions -->
                <div class="px-5">
                    <!-- Diagnosis Entry Card (HERO) -->
                    <div onclick="navigateTo('channels')" class="bg-white p-6 rounded-[28px] shadow-sm relative overflow-hidden group active:scale-[0.98] transition-transform cursor-pointer mb-4 border border-[#F2F4F6]">
                        <div class="relative z-10">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="bg-blue-50 text-[#3182F6] text-[10px] font-bold px-2 py-1 rounded-full">AI 분석</span>
                            </div>
                            <h3 class="text-xl font-bold text-[#191F28] mb-1">내 가게 건강검진 받기</h3>
                            <p class="text-[#8B95A1] text-sm">매출이 새는 원인을<br>3초 만에 찾아드려요.</p>
                            <div class="mt-4 flex items-center gap-1 text-[#3182F6] font-bold text-sm">
                                지금 진단하기 <i data-lucide="chevron-right" class="w-4 h-4"></i>
                            </div>
                        </div>
                        <!-- Decor -->
                        <div class="absolute right-[-10px] bottom-[-10px] opacity-10 group-hover:scale-110 transition-transform duration-500">
                            <i data-lucide="stethoscope" class="w-32 h-32"></i>
                        </div>
                    </div>

                    <!-- Daily Quests -->
                    <h3 class="font-bold text-lg mb-3 ml-1 text-[#333D4B]">오늘의 미션</h3>
                    <div class="bg-white rounded-[24px] p-1 shadow-sm border border-[#F2F4F6]">
                        <div class="flex items-center gap-3 p-4 border-b border-[#F2F4F6] last:border-0">
                            <div class="w-6 h-6 rounded-full border-2 border-[#E5E8EB] flex items-center justify-center cursor-pointer hover:bg-blue-50 hover:border-[#3182F6]"></div>
                            <span class="text-sm font-medium text-[#4E5968]">어제 매출 리뷰 확인하기</span>
                        </div>
                        <div class="flex items-center gap-3 p-4 border-b border-[#F2F4F6] last:border-0">
                            <div class="w-6 h-6 rounded-full bg-[#3182F6] flex items-center justify-center text-white">
                                <i data-lucide="check" class="w-3.5 h-3.5"></i>
                            </div>
                            <span class="text-sm font-medium text-[#B0B8C1] line-through">인스타그램 댓글 3개 달기</span>
                        </div>
                        <div class="flex items-center gap-3 p-4">
                            <div class="w-6 h-6 rounded-full border-2 border-[#E5E8EB] flex items-center justify-center cursor-pointer hover:bg-blue-50 hover:border-[#3182F6]"></div>
                            <span class="text-sm font-medium text-[#4E5968]">신메뉴 사진 업로드</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== VIEW: MARKETING CHANNELS ==================== -->
        <section id="view-channels" class="view-section h-full bg-[#F2F4F6]">
            <div class="flex-1 overflow-y-auto no-scrollbar pb-24">
                <!-- Header -->
                <header class="bg-white px-6 pt-12 pb-6 rounded-b-[32px] shadow-sm mb-6">
                    <button onclick="navigateTo('home')" class="p-2 -ml-2 mb-4 text-[#333D4B]">
                        <i data-lucide="chevron-left" class="w-6 h-6"></i>
                    </button>
                    <h1 class="text-2xl font-bold text-[#191F28] mb-2">
                        사장님이 사용하고 계신<br>
                        <span class="text-[#3182F6]">마케팅 채널</span>을 모두 선택해주세요
                    </h1>
                    <p class="text-[#8B95A1] text-sm mt-2">정확한 분석을 위해 필요해요</p>
                </header>

                <!-- Channel Selection Cards -->
                <div class="px-5">
                    <div id="channels-list" class="space-y-3 mb-6">
                        <!-- Channel cards will be rendered here by JS -->
                    </div>

                    <!-- Continue Button -->
                    <button 
                        id="channels-continue-btn" 
                        onclick="proceedToDiagnosis()" 
                        class="w-full bg-[#E5E8EB] text-[#B0B8C1] font-bold py-4 rounded-xl text-lg transition-all disabled:cursor-not-allowed"
                        disabled
                    >
                        다음 단계로
                    </button>
                </div>
            </div>
        </section>

        <!-- ==================== VIEW: DIAGNOSIS (Integrated) ==================== -->
        <section id="view-diagnosis" class="view-section h-full bg-[#F2F4F6]">
            <!-- Sticky Header -->
            <header class="bg-white sticky top-0 z-20 px-4 py-4 flex items-center justify-between shadow-[0_1px_0_0_rgba(0,0,0,0.05)]">
                <button onclick="navigateTo('home')" class="p-2 -ml-2 text-[#333D4B]">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <h1 class="text-lg font-bold absolute left-1/2 transform -translate-x-1/2">건강검진</h1>
                <button id="reset-btn" class="p-2 -mr-2 text-gray-400 hover:text-gray-600 hidden">
                    <i data-lucide="refresh-cw" class="w-5 h-5"></i>
                </button>
            </header>

            <!-- Diagnosis Content Container -->
            <div id="diagnosis-content" class="flex-1 overflow-y-auto no-scrollbar pb-10">
                <!-- Content injected by JS -->
            </div>
        </section>

        <!-- ==================== VIEW: ANALYTICS (New) ==================== -->
        <section id="view-analytics" class="view-section h-full overflow-hidden">
             <div class="flex-1 overflow-y-auto no-scrollbar pb-24">
                <header class="bg-white px-6 pt-12 pb-6 border-b border-[#F2F4F6]">
                    <h1 class="text-2xl font-bold text-[#191F28]">성과 분석</h1>
                    <p class="text-[#8B95A1] text-sm mt-1">강남구 카페 상위 10%와 비교 중</p>
                </header>
                
                <div class="px-5 mt-6">
                    <!-- Chart Card -->
                    <div class="bg-white p-6 rounded-[28px] shadow-sm border border-[#F2F4F6] mb-4">
                        <div class="flex justify-between items-end mb-6">
                            <div>
                                <p class="text-xs text-[#8B95A1] font-bold mb-1">이번 주 방문자</p>
                                <h3 class="text-2xl font-bold text-[#191F28]">1,240명</h3>
                            </div>
                            <span class="text-xs font-bold text-[#3182F6] bg-blue-50 px-2 py-1 rounded-full">
                                지난주 대비 +8.4%
                            </span>
                        </div>
                        <!-- Simple CSS Bar Chart -->
                        <div class="h-32 flex items-end gap-2 justify-between">
                            <div class="w-full bg-[#F2F4F6] rounded-t-sm h-[40%]"></div>
                            <div class="w-full bg-[#F2F4F6] rounded-t-sm h-[60%]"></div>
                            <div class="w-full bg-[#F2F4F6] rounded-t-sm h-[30%]"></div>
                            <div class="w-full bg-[#F2F4F6] rounded-t-sm h-[80%]"></div>
                            <div class="w-full bg-[#F2F4F6] rounded-t-sm h-[50%]"></div>
                            <div class="w-full bg-[#3182F6] rounded-t-sm h-[90%] shadow-lg shadow-blue-200"></div>
                            <div class="w-full bg-[#E5E8EB] rounded-t-sm h-[75%]"></div>
                        </div>
                        <div class="flex justify-between text-[10px] text-[#B0B8C1] mt-2 font-medium">
                            <span>월</span><span>화</span><span>수</span><span>목</span><span>금</span><span class="text-[#3182F6] font-bold">토</span><span>일</span>
                        </div>
                    </div>

                    <!-- Insight Grid -->
                    <div class="grid grid-cols-2 gap-3 mb-4">
                         <div class="bg-white p-5 rounded-[24px] shadow-sm border border-[#F2F4F6]">
                            <div class="w-10 h-10 rounded-full bg-green-50 flex items-center justify-center mb-3">
                                <i data-lucide="user-plus" class="w-5 h-5 text-green-500"></i>
                            </div>
                            <p class="text-[#8B95A1] text-xs font-bold">신규 고객</p>
                            <h4 class="text-lg font-bold text-[#191F28]">34명</h4>
                        </div>
                         <div class="bg-white p-5 rounded-[24px] shadow-sm border border-[#F2F4F6]">
                            <div class="w-10 h-10 rounded-full bg-orange-50 flex items-center justify-center mb-3">
                                <i data-lucide="rotate-ccw" class="w-5 h-5 text-orange-500"></i>
                            </div>
                            <p class="text-[#8B95A1] text-xs font-bold">재방문율</p>
                            <h4 class="text-lg font-bold text-[#191F28]">28.4%</h4>
                        </div>
                    </div>

                    <!-- Suggestion -->
                    <div class="bg-white p-5 rounded-[24px] shadow-sm border border-[#F2F4F6] flex gap-4 items-start">
                        <i data-lucide="lightbulb" class="w-6 h-6 text-[#FFB300] shrink-0 mt-1"></i>
                        <div>
                            <h4 class="font-bold text-[#191F28] text-sm mb-1">재방문율이 조금 낮아요</h4>
                            <p class="text-[#6B7684] text-xs leading-relaxed">
                                신규 고객은 늘었지만, 2회 이상 방문이 줄었습니다. 리뷰 이벤트를 고려해보세요.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== VIEW: GROWTH (New) ==================== -->
        <section id="view-growth" class="view-section h-full overflow-hidden">
             <div class="flex-1 overflow-y-auto no-scrollbar pb-24">
                <div class="bg-[#191F28] text-white pt-12 pb-10 px-6 rounded-b-[32px] relative overflow-hidden">
                    <div class="relative z-10">
                        <div class="flex justify-between items-center mb-6">
                            <h1 class="text-2xl font-bold">마이 샵 레벨</h1>
                            <span class="bg-[#333D4B] border border-[#4E5968] text-[#FFD600] px-3 py-1 rounded-full text-xs font-bold">GOLD TIER</span>
                        </div>
                        
                        <div class="flex flex-col items-center mb-6">
                            <div class="w-24 h-24 bg-[#3182F6]/20 rounded-full flex items-center justify-center mb-3 relative">
                                <div class="absolute inset-0 border-2 border-[#3182F6] rounded-full opacity-30 animate-ping"></div>
                                <i data-lucide="trophy" class="w-10 h-10 text-[#3182F6] fill-blue-500"></i>
                            </div>
                            <h2 class="text-xl font-bold">Lv. 14 골목대장</h2>
                            <p class="text-gray-400 text-sm">다음 레벨까지 450 XP</p>
                        </div>

                        <!-- XP Bar -->
                        <div class="w-full bg-[#333D4B] h-2 rounded-full overflow-hidden mb-2">
                            <div class="bg-gradient-to-r from-[#3182F6] to-[#4CC2FF] h-full w-[70%] rounded-full"></div>
                        </div>
                        <div class="flex justify-between text-[10px] text-gray-500 font-mono">
                            <span>1,450 XP</span>
                            <span>2,000 XP</span>
                        </div>
                    </div>
                </div>

                <div class="px-5 mt-6">
                    <h3 class="font-bold text-lg mb-4 text-[#191F28]">내 경쟁력 랭킹</h3>
                    <div class="bg-white rounded-[24px] border border-[#F2F4F6] overflow-hidden">
                        <div class="p-4 flex items-center justify-between bg-blue-50/50">
                            <div class="flex items-center gap-4">
                                <span class="font-bold text-[#3182F6] w-6 text-center">14</span>
                                <div class="w-8 h-8 bg-gray-200 rounded-full overflow-hidden">
                                     <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="avatar" />
                                </div>
                                <span class="font-bold text-[#191F28] text-sm">내 가게 (김사장님)</span>
                            </div>
                            <span class="font-bold text-[#4E5968] text-sm">Lv.14</span>
                        </div>
                        <!-- Mock Competitors -->
                        <div class="p-4 flex items-center justify-between border-t border-[#F2F4F6]">
                            <div class="flex items-center gap-4">
                                <span class="font-bold text-[#B0B8C1] w-6 text-center">1</span>
                                <div class="w-8 h-8 bg-gray-100 rounded-full overflow-hidden opacity-50"></div>
                                <span class="font-medium text-[#8B95A1] text-sm">성수동 핫플...</span>
                            </div>
                            <span class="text-sm text-[#B0B8C1]">Lv.24</span>
                        </div>
                        <div class="p-4 flex items-center justify-between border-t border-[#F2F4F6]">
                            <div class="flex items-center gap-4">
                                <span class="font-bold text-[#B0B8C1] w-6 text-center">2</span>
                                <div class="w-8 h-8 bg-gray-100 rounded-full overflow-hidden opacity-50"></div>
                                <span class="font-medium text-[#8B95A1] text-sm">역삼역 카페...</span>
                            </div>
                            <span class="text-sm text-[#B0B8C1]">Lv.21</span>
                        </div>
                    </div>
                </div>
             </div>
        </section>

        <!-- ==================== VIEW: MY INFO (New) ==================== -->
        <section id="view-myinfo" class="view-section h-full overflow-hidden">
            <div class="flex-1 overflow-y-auto no-scrollbar pb-24">
                <header class="bg-white px-6 pt-12 pb-6">
                    <h1 class="text-2xl font-bold text-[#191F28]">내 정보</h1>
                </header>
                
                <div class="px-5 mt-2">
                    <!-- Profile Card -->
                    <div class="bg-white p-5 rounded-[24px] flex items-center gap-4 mb-6 shadow-sm border border-[#F2F4F6]">
                         <div class="w-14 h-14 bg-gray-100 rounded-full overflow-hidden border border-[#F2F4F6]">
                             <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="avatar" />
                         </div>
                         <div>
                             <h3 class="font-bold text-[#191F28] text-lg">김Advisor</h3>
                             <p class="text-sm text-[#8B95A1]">프리미엄 멤버십 사용 중</p>
                         </div>
                         <button class="ml-auto bg-[#F2F4F6] text-[#6B7684] px-3 py-1.5 rounded-lg text-xs font-bold">
                             관리
                         </button>
                    </div>

                    <!-- Menu List -->
                    <div class="bg-white rounded-[24px] overflow-hidden shadow-sm border border-[#F2F4F6]">
                        <div class="p-5 flex items-center justify-between border-b border-[#F2F4F6] cursor-pointer hover:bg-gray-50">
                            <span class="text-[#333D4B] font-medium">가게 정보 수정</span>
                            <i data-lucide="chevron-right" class="w-5 h-5 text-[#B0B8C1]"></i>
                        </div>
                        <div class="p-5 flex items-center justify-between border-b border-[#F2F4F6] cursor-pointer hover:bg-gray-50">
                            <span class="text-[#333D4B] font-medium">데이터 연동 설정</span>
                            <div class="flex items-center gap-2">
                                <span class="text-xs text-[#3182F6] bg-blue-50 px-2 py-0.5 rounded font-bold">연동됨</span>
                                <i data-lucide="chevron-right" class="w-5 h-5 text-[#B0B8C1]"></i>
                            </div>
                        </div>
                        <div class="p-5 flex items-center justify-between border-b border-[#F2F4F6] cursor-pointer hover:bg-gray-50">
                            <span class="text-[#333D4B] font-medium">알림 설정</span>
                            <i data-lucide="chevron-right" class="w-5 h-5 text-[#B0B8C1]"></i>
                        </div>
                        <div class="p-5 flex items-center justify-between cursor-pointer hover:bg-gray-50">
                            <span class="text-[#333D4B] font-medium">고객센터</span>
                            <i data-lucide="chevron-right" class="w-5 h-5 text-[#B0B8C1]"></i>
                        </div>
                    </div>
                    
                    <button class="w-full mt-6 py-4 text-[#8B95A1] text-sm underline">로그아웃</button>
                </div>
            </div>
        </section>

        <!-- ==================== BOTTOM NAVIGATION ==================== -->
        <nav class="bg-white border-t border-[#F2F4F6] px-6 py-3 pb-6 flex justify-between items-center z-50 absolute bottom-0 w-full rounded-t-[20px] shadow-[0_-4px_16px_rgba(0,0,0,0.04)]">
            <button onclick="navigateTo('home')" class="nav-item active flex flex-col items-center gap-1 text-[#B0B8C1] transition-colors w-14" data-target="home">
                <i data-lucide="home" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">홈</span>
            </button>
            <button onclick="navigateTo('analytics')" class="nav-item flex flex-col items-center gap-1 text-[#B0B8C1] transition-colors w-14" data-target="analytics">
                <i data-lucide="bar-chart-2" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">분석</span>
            </button>
            <button onclick="navigateTo('growth')" class="nav-item flex flex-col items-center gap-1 text-[#B0B8C1] transition-colors w-14" data-target="growth">
                <i data-lucide="trophy" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">성장</span>
            </button>
            <button onclick="navigateTo('myinfo')" class="nav-item flex flex-col items-center gap-1 text-[#B0B8C1] transition-colors w-14" data-target="myinfo">
                <i data-lucide="user" class="w-6 h-6"></i>
                <span class="text-[10px] font-medium">내 정보</span>
            </button>
        </nav>

        <!-- Reward Modal (Global) -->
        <div id="reward-modal" class="fixed inset-0 z-[60] flex items-center justify-center px-6 hidden">
            <div class="absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>
            <div class="bg-white rounded-[32px] p-8 w-full max-w-sm text-center relative z-10 shadow-2xl animate-scale-up">
                <div class="w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce">
                    <i data-lucide="sparkles" class="w-10 h-10 text-yellow-500 fill-yellow-500"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">진단 완료!</h3>
                <p class="text-gray-500 mb-8 leading-relaxed">
                    가게 레벨업을 위한<br>
                    <span class="font-bold text-[#3182F6]">50 XP</span>를 받았어요.
                </p>
                <button onclick="closeModal()" class="w-full bg-[#3182F6] text-white font-bold py-4 rounded-xl text-lg hover:bg-[#286ee6] active:scale-[0.98] transition-all">
                    확인
                </button>
            </div>
        </div>

    </div>

    <!-- JavaScript Logic -->
    <script src="js/script.js"></script>
</body>
</html>